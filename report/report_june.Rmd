---
title: "June update"
author: "Lucas WeiÃŸ"
date: '2022-06-29'
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
library(tidyverse)
```


```{r load  rdata}
load("../output/model_vanilla.RData")
#load("../output/model_no_grass.RData")
load("../output/model_no_lowvalue_crops.RData")
```

# Model comparison
## What have I done so far and how do the models compare? 

Model like Diana want to use it. Without removing anything from my part.

```{r model 1 }
model1[[1]]$overall
model1[[2]]$overall
model1[[3]]
model1[[4]]

```

Model without grassland. This was my second model I tried.

```{r model 2 }
# model2[[1]]$overall
# model2[[2]]$overall
# model2[[3]]
# model2[[4]]
```

Model after removing grassland and low information crops like no available data, mixed crops etc

```{r model 3 }
model3[[1]]$overall
model3[[2]]$overall
model3[[3]]
model3[[4]]
```

model 1
```{r compare model 1}
model1[[1]]$overall
```
model 2
```{r compare model 2}
# model2[[1]]$overall
```
model 3 
```{r compare model 3}
model3[[1]]$overall
```
```{r rm models}
rm(model1)
# rm(model2)
rm(model3)
```

# Sample Data
## Sample Data to see if there is a saturation with increasing sample size

```{r sample models}
load("../output/sample_models.RData")

data %>% 
  ggplot()+
  geom_line(aes(x=samples, y=results))+
  ylim(0, 1)
```


# Future prediction
## simulated data for 5 years 

```{r simulation}
load(file="../output/sim_updated.RData")

dat$CType <- as.factor(as.numeric(dat$CType))

# frequency of each crop type
ggplot(dat) + 
  geom_bar(mapping = aes(x = CType))
```

# Chapter outline

## 1. Introduction 
Climate change 
We could fight climate change with crop rotation
Other projects to project crop rotation like FRUCHTFOLGE ROTAT ROTOR 
Limitations due to linear programming -> no nonlinearity but agricultural systems are nonlinear 
Machine Learning could help
Random forest 
R with tidyverse as framework for analysis
Overall aim and objectives 
Value of research 

## 2. Literature Review
#### Crop rotation
What type of rotation and crops would the literature predict?
Based on what parameters would the farmer make his decision?
#### Crop Rotation Prediction
What was already done to predict crop rotation?
Mostly based on linear programming. But Why?
Describe other papers in more detail
ROTAT 
ROTOR
FRUCHTFOLGE
#### Research Gap
Limitations of linear programming. Machine learning takes into account nonlinearity. Why is this important?
My approach will be a machine learning approach. More in the coming chapter about methods.

## 3. Methods
What did I do for modeling and why? Why machine learning and why random forest? Positive aspects of ML vs other approaches. 

## 4. Data Set
Description of data set. How does the technology work roughly speaking? 
Where does it come from, what format was it in? 
How was the data cleaning process? 

## 5. Results

## 6. Discussion

## 7. Conclusion